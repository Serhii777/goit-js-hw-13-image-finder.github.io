{"version":3,"sources":["webpack:///./js/services/pixabayAsync-services.js","webpack:///./js/spinner.js","webpack:///./js/services/notices.js","webpack:///./js/pixabay-search.js","webpack:///./js/gallery-item.js","webpack:///./js/buttonScrollTop.js","webpack:///./templates/photoGallery.hbs"],"names":["page","query","fetchImages","requestParams","fetch","baseUrl","response","json","image","hits","incrementPage","this","string","resetPage","spinner","document","querySelector","classList","remove","add","noticeError","error","title","text","width","type","delay","modal","overlayClose","modules","Map","Confirm","confirm","buttons","primary","click","notice","close","require","_","refs","containerGallery","sectionGallery","searchForm","galleryList","galleryItem","searchImageBtn","clearImageBtn","loadMoreBtn","infiniteScroll","loadMore","lastItem","getElementsByClassName","length","documentElement","getBoundingClientRect","bottom","clientHeight","pixabayService","then","insertListItems","success","catch","console","warn","images","galleryTemplate","markupGallery","insertAdjacentHTML","clearListItems","innerHTML","addEventListener","event","preventDefault","input","currentTarget","elements","searchQuery","value","throttle","lastElementChild","scrollIntoView","behavior","block","inline","galleryRef","lightboxRef","largeImage","closeModalBtn","scrollTopBtn","closeModalRef","target","nodeName","imageRef","largeImageUrl","dataset","source","largeImageAlt","alt","url","src","lastChild","style","overflow","onload","onCloseModalBtn","onCloseModalRef","window","onPressEscape","scrollingImages","counter","index","currentLink","children","i","key","firstElementChild","openNextImage","Math","abs","onCloseModal","getElementsByTagName","removeEventListener","setAttribute","code","scrollElement","onscroll","scrollTop","scrollTo","top","Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop"],"mappings":"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","file":"main.f331e058158e86328af6.js","sourcesContent":["//* https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=что_искать&page=номер_страницы&per_page=12&key=твой_ключ\r\n\r\nconst baseUrl = 'https://pixabay.com/api/';\r\nexport default {\r\n  page: 1,\r\n  query: '',\r\n  async fetchImages() {\r\n    const key = '?key=17627900-033e401422c15b0db6e889732';\r\n    const type = '&image_type=photo';\r\n    const orientation = '&orientation=horizontal';\r\n    const requestParams = `&q=${this.query}&page=${this.page}&per_page=12`;\r\n\r\n    try {\r\n      let response = await fetch(\r\n        baseUrl + key + type + orientation + requestParams,\r\n      );\r\n      let image = await response.json();\r\n      let hits = await image.hits;\r\n      this.incrementPage();\r\n\r\n      return hits;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n\r\n  get searchQuery() {\r\n    return this.query;\r\n  },\r\n\r\n  set searchQuery(string) {\r\n    this.query = string;\r\n  },\r\n\r\n  incrementPage() {\r\n    //* делаем Мт. для пагинации\r\n    this.page += 1;\r\n  },\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n};\r\n","const spinner = document.querySelector('#spinner');\r\n\r\nexport default {\r\n  show() {\r\n    spinner.classList.remove('is-hidden');\r\n  },\r\n  hide() {\r\n    spinner.classList.add('is-hidden');\r\n  },\r\n};\r\n","import { success, error } from '@pnotify/core';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport * as Confirm from '@pnotify/confirm';\r\nimport '@pnotify/confirm/dist/PNotifyConfirm.css';\r\n\r\n\r\nfunction noticeError() {\r\n  error({\r\n    title: 'Error!!!',\r\n    text:\r\n      'Unfortunately, no such images was found, try changing your search parameters!',\r\n    width: '300px',\r\n    type: 'error',\r\n    delay: 1500,\r\n    remove: true,\r\n    modal: true,\r\n    overlayClose: true,\r\n    modules: new Map([\r\n      [\r\n        Confirm,\r\n        {\r\n          confirm: true,\r\n          buttons: [\r\n            {\r\n              text: 'Ok',\r\n              primary: true,\r\n              click: notice => {\r\n                notice.close();\r\n              },\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n    ]),\r\n  });\r\n}\r\n\r\nfunction mySuccess() {\r\n  success({\r\n    title: 'Successfully!!!',\r\n    text: 'We found what you were looking for!',\r\n    width: '300px',\r\n    type: 'success',\r\n    delay: 1500,\r\n  });\r\n}\r\n\r\nexport { noticeError, mySuccess };\r\n","import pixabayService from './services/pixabayAsync-services';\r\nimport spinner from './spinner';\r\nimport galleryTemplate from '../templates/photoGallery.hbs';\r\nimport { noticeError, mySuccess } from './services/notices';\r\n\r\nvar InfiniteScroll = require('infinite-scroll');\r\nlet throttle = require('lodash.throttle');\r\nconst _ = require('lodash');\r\n\r\nconst refs = {\r\n  containerGallery: document.querySelector('.wrapper'),\r\n  sectionGallery: document.querySelector('.section-gallery'),\r\n\r\n  searchForm: document.querySelector('#search-form'),\r\n  galleryList: document.querySelector('#gallery-list'),\r\n  galleryItem: document.querySelector('.gallery__item'),\r\n  searchImageBtn: document.querySelector('button[data-action=\"search-image\"]'),\r\n  clearImageBtn: document.querySelector('button[data-action=\"clear-image\"]'),\r\n  loadMoreBtn: document.querySelector('button[data-action=\"load-more\"]'),\r\n};\r\n\r\nrefs.searchForm.addEventListener('submit', searchFormSubmitHandler);\r\nrefs.clearImageBtn.addEventListener('click', clearListItems);\r\nrefs.loadMoreBtn.addEventListener('click', loadMoreBtnHandler);\r\n\r\nfunction searchFormSubmitHandler(event) {\r\n  event.preventDefault();\r\n  spinner.show();\r\n\r\n  const form = event.currentTarget;\r\n  const input = form.elements.query;\r\n\r\n  clearListItems();\r\n\r\n  pixabayService.resetPage();\r\n  pixabayService.searchQuery = input.value;\r\n\r\n  fetchImages();\r\n\r\n  document.addEventListener('scroll', _.throttle(infiniteScroll, 300));\r\n\r\n  input.value = '';\r\n}\r\n\r\nfunction loadMoreBtnHandler() {\r\n  spinner.show();\r\n  fetchImages();\r\n  goToUp();\r\n}\r\n\r\nfunction goToUp() {\r\n  const element = refs.galleryList.lastElementChild;\r\n  element.scrollIntoView({\r\n    behavior: 'smooth',\r\n    block: 'end',\r\n    inline: 'center',\r\n  });\r\n}\r\n\r\nfunction infiniteScroll() {\r\n  function getLastElementValue() {\r\n    let lastElement = refs.galleryList.getElementsByClassName('gallery__item');\r\n    return lastElement.length;\r\n  }\r\n\r\n  function loadMore() {\r\n    let lastItem = getLastElementValue();\r\n\r\n    while (true) {\r\n      let windowRelativeBottom = document.documentElement.getBoundingClientRect()\r\n        .bottom;\r\n      let clientHeight = document.documentElement.clientHeight;\r\n\r\n      if (windowRelativeBottom > clientHeight + 10) break;\r\n      {\r\n        fetchImages();\r\n\r\n        if (lastItem) break;\r\n        {\r\n          loadMore();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  loadMore();\r\n}\r\n\r\nfunction fetchImages() {\r\n  spinner.show();\r\n\r\n  pixabayService\r\n    .fetchImages()\r\n    .then(hits => {\r\n      if (hits.length === 0) {\r\n        spinner.hide();\r\n        return noticeError();\r\n      } else {\r\n        spinner.hide();\r\n        insertListItems(hits);\r\n        mySuccess();\r\n      }\r\n    })\r\n    .catch(error => {\r\n      noticeError();\r\n      console.warn(error);\r\n    });\r\n}\r\n\r\nasync function insertListItems(images) {\r\n  const markupGallery = await galleryTemplate(images);\r\n  refs.galleryList.insertAdjacentHTML('beforeend', markupGallery);\r\n}\r\n\r\nfunction clearListItems() {\r\n  refs.galleryList.innerHTML = '';\r\n}\r\n","import spinner from './spinner';\r\n\r\nconst refs = {\r\n  galleryRef: document.querySelector('.js-gallery'), //ul\r\n  lightboxRef: document.querySelector('.js-lightbox'),\r\n  largeImage: document.querySelector('.lightbox__image'),\r\n  closeModalBtn: document.querySelector('button[data-action=\"close-lightbox\"]'),\r\n  scrollTopBtn: document.querySelector('#scrollTtop-button'),\r\n  closeModalRef: document.querySelector('.lightbox__overlay'),\r\n};\r\n\r\nrefs.galleryRef.addEventListener('click', onGalleryClick);\r\n\r\nfunction onGalleryClick(event) {\r\n  event.preventDefault();\r\n  spinner.show();\r\n  if (event.target.nodeName !== 'IMG') {\r\n    spinner.hide();\r\n    return;\r\n  }\r\n  spinner.show();\r\n\r\n  const imageRef = event.target;\r\n  const largeImageUrl = imageRef.dataset.source;\r\n  const largeImageAlt = imageRef.alt;\r\n\r\n  setLargeImageSrc(largeImageUrl);\r\n  setLargeImageAlt(largeImageAlt);\r\n  onOpenModal();\r\n  window.addEventListener('keydown', scrollingImages);\r\n}\r\n\r\nfunction setLargeImageSrc(url) {\r\n  refs.largeImage.src = url;\r\n}\r\n\r\nfunction setLargeImageAlt(alt) {\r\n  refs.largeImage.alt = alt;\r\n}\r\n\r\nfunction onOpenModal() {\r\n  spinner.show();\r\n  refs.scrollTopBtn.classList.add('is-hidden');\r\n  document.documentElement.lastChild.style.overflow = 'hidden';\r\n\r\n  refs.lightboxRef.classList.add('is-open');\r\n  refs.largeImage.onload = function () {\r\n    spinner.hide();\r\n  };\r\n\r\n  refs.closeModalBtn.addEventListener('click', onCloseModalBtn);\r\n  document.addEventListener('click', onCloseModalRef);\r\n  window.addEventListener('keydown', onPressEscape);\r\n}\r\n\r\nconst counter = {\r\n  index: 0,\r\n};\r\n\r\nlet currentLink = refs.galleryRef.children;\r\n\r\nconst openNextImage = i => {\r\n  refs.largeImage.src =\r\n    currentLink[\r\n      i\r\n    ].firstElementChild.firstElementChild.firstElementChild.dataset.source;\r\n  refs.largeImage.alt =\r\n    currentLink[i].firstElementChild.firstElementChild.firstElementChild.alt;\r\n};\r\n\r\nrefs.largeImage.onload = function () {\r\n  spinner.hide();\r\n};\r\n\r\nfunction scrollingImages(event) {\r\n  spinner.show();\r\n  let i = 0;\r\n\r\n  if (event.key === 'ArrowRight' || event.key === 'ArrowDown') {\r\n    i = 1;\r\n  }\r\n  if (event.key === 'ArrowLeft' || event.key === 'ArrowUp') {\r\n    i = -1;\r\n  }\r\n  counter.index = (counter.index + i) % currentLink.length;\r\n  openNextImage(Math.abs(counter.index));\r\n}\r\n\r\nfunction onCloseModal() {\r\n  spinner.hide();\r\n  refs.scrollTopBtn.classList.remove('is-hidden');\r\n  document.getElementsByTagName('body')[0].style.overflow = 'scroll';\r\n\r\n  refs.closeModalBtn.removeEventListener('click', onCloseModalBtn);\r\n  document.removeEventListener('click', onCloseModalRef);\r\n  window.removeEventListener('keydown', onPressEscape);\r\n  refs.largeImage.setAttribute('src', ' ');\r\n  refs.largeImage.setAttribute('alt', ' ');\r\n\r\n  refs.lightboxRef.classList.remove('is-open');\r\n}\r\n\r\nfunction onCloseModalBtn() {\r\n  if (event.target === event.currentTarget) {\r\n    onCloseModal();\r\n  }\r\n}\r\n\r\nfunction onCloseModalRef(event) {\r\n  if (event.target.nodeName === 'IMG') {\r\n    return;\r\n  }\r\n  onCloseModal();\r\n}\r\n\r\nfunction onPressEscape(event) {\r\n  if (event.code === 'Escape') {\r\n    onCloseModal();\r\n  }\r\n}\r\n","let scrollElement = document.querySelector('#scrollTtop-button');\r\n\r\nwindow.onscroll = function () {\r\n  if (\r\n    document.documentElement.scrollTop > document.documentElement.clientHeight\r\n  ) {\r\n    scrollElement.classList.remove('is-hidden');\r\n  } else {\r\n    scrollElement.classList.add('is-hidden');\r\n  }\r\n};\r\n\r\nscrollElement.addEventListener('click', goToUp);\r\n\r\nfunction goToUp() {\r\n  window.scrollTo({\r\n    top: 0,\r\n    behavior: 'smooth',\r\n  });\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" <li class=\\\"gallery__item js-gallery__item\\\">\\r\\n    <div class=\\\"photo-card js-photo-card\\\">\\r\\n        <a class=\\\"photo-card__link js-photo-card__link\\\"\\r\\n            href=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":18},\"end\":{\"line\":4,\"column\":35}}}) : helper)))\n    + \"\\\">\\r\\n            <img class=\\\"photo-card__image js-photo-card__image\\\"\\r\\n                src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":21},\"end\":{\"line\":6,\"column\":37}}}) : helper)))\n    + \"\\\"\\r\\n                data-source=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":29},\"end\":{\"line\":7,\"column\":46}}}) : helper)))\n    + \"\\\"\\r\\n                alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"user\") || (depth0 != null ? lookupProperty(depth0,\"user\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"user\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":21},\"end\":{\"line\":8,\"column\":29}}}) : helper)))\n    + \"\\\" />\\r\\n        </a>\\r\\n        <div class=\\\"stats\\\">\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">thumb_up </i> \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":56},\"end\":{\"line\":12,\"column\":65}}}) : helper)))\n    + \" </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">visibility</i> \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":57},\"end\":{\"line\":14,\"column\":66}}}) : helper)))\n    + \" </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">comment</i> \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":54},\"end\":{\"line\":16,\"column\":66}}}) : helper)))\n    + \" </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">cloud_download</i> \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":61},\"end\":{\"line\":18,\"column\":74}}}) : helper)))\n    + \" </p>\\r\\n        </div>\\r\\n    </div>\\r\\n</li>\\r\\n</li> \";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":22,\"column\":15}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}